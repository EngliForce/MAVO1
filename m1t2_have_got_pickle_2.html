<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Have Got Reflex Game</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0fff8;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    header {
      background-color: #43a047;
      padding: 1rem 0;
    }

    header img {
      width: 120px;
    }

    header h1 {
      color: white;
      margin: 0.5rem 0 0;
    }

    .game-container {
      padding: 2rem;
    }

    .btn {
      background-color: #43a047;
      color: white;
      border: none;
      padding: 0.7rem 1.5rem;
      margin: 0.5rem;
      border-radius: 6px;
      font-size: 1.1rem;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #388e3c;
    }

    .btn.active {
      background-color: #388e3c;
    }

    .stars {
      font-size: 2rem;
      color: gold;
    }

    .score {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .sentence-wrapper {
      height: 60px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .sentence {
      font-size: 1.5rem;
    }

    .answer-buttons {
      margin: 2rem 0;
    }

    .hidden {
      display: none;
    }

    #level-up-message {
      font-size: 1.3rem;
      font-weight: bold;
      color: #2e7d32;
      margin-bottom: 1rem;
      display: none;
    }

    #feedback-text {
      font-size: 1.2rem;
      color: #d32f2f;
    }

    footer {
      background-color: #e0f2f1;
      padding: 1rem;
    }
  </style>
</head>
<body>

<header>
  <img src="Logo.png" alt="Engliforce Logo">
  <h1>üí• Have Got Reflex Game</h1>
</header>

<div class="game-container">
  <!-- Setup scherm -->
  <div id="setup-screen">
    <h2>Kies snelheid (level):</h2>
    <div>
      <button class="btn" onclick="selectLevel(1)">1 (langzaam)</button>
      <button class="btn" onclick="selectLevel(2)">2</button>
      <button class="btn" onclick="selectLevel(3)">3</button>
      <button class="btn" onclick="selectLevel(4)">4</button>
      <button class="btn" onclick="selectLevel(5)">5 (snel)</button>
    </div>

    <div style="margin-top: 2rem;">
      <button class="btn" id="startBtn" onclick="startGame()" disabled>‚ñ∂ Start</button>
    </div>
  </div>

  <!-- Game -->
  <div id="game" class="hidden">
    <div class="stars" id="stars">‚≠ê ‚≠ê ‚≠ê</div>
    <div class="score" id="score">Score: 0</div>
    <div id="level-up-message">Level up!</div>
    <div class="sentence-wrapper">
      <div class="sentence" id="sentence">...</div>
    </div>
    <div class="answer-buttons">
      <button class="btn" id="btn-have-got">have got</button>
      <button class="btn" id="btn-has-got">has got</button>
    </div>
  </div>

  <!-- Feedback -->
  <div id="feedback" class="hidden">
    <p id="feedback-text"></p>
    <button class="btn" onclick="continueGame()">‚úÖ Try again</button>
  </div>

  <!-- Game Over -->
  <div id="game-over" class="hidden">
    <h2>üò¢ Game Over!</h2>
    <p id="final-score"></p>
    <button class="btn" onclick="window.location.reload()">üîÑ Opnieuw spelen</button>
  </div>
</div>

<footer>
  <p>&copy; 2025 Engliforce ‚Äì Make English Your Superpower!</p>
</footer>

<script>
  const sentenceEl = document.getElementById('sentence');
  const levelUpMessage = document.getElementById('level-up-message');

  let levelSpeed = 0;
  let score = 0;
  let lives = 3;
  let levelSelected = false;

  const levelSpeeds = {
    1: 10000,
    2: 8000,
    3: 6000,
    4: 4000,
    5: 2500
  };

  const allSubjectsHave = ["I", "You", "We", "They", "My friends", "The kids"];
  const allSubjectsHas = ["He", "She", "It", "Tom", "Sara", "The dog"];
  const objects = ["a bike", "a pen", "a red car", "a backpack", "a new phone", "a funny story"];

  const allSentences = [];
  for (let i = 0; i < 100; i++) {
    const isHave = Math.random() < 0.5;
    const subject = isHave
      ? allSubjectsHave[Math.floor(Math.random() * allSubjectsHave.length)]
      : allSubjectsHas[Math.floor(Math.random() * allSubjectsHas.length)];
    const object = objects[Math.floor(Math.random() * objects.length)];
    const correct = isHave ? "have got" : "has got";
    allSentences.push({
      sentence: `${subject} ___ ${object}.`,
      correct
    });
  }

  function selectLevel(level) {
    levelSelected = true;
    levelSpeed = levelSpeeds[level];
    const buttons = document.querySelectorAll('button');
    buttons.forEach(btn => {
      if (btn.textContent.includes('(')) btn.classList.remove('active');
    });
    event.target.classList.add('active');
    document.getElementById('startBtn').disabled = false;
  }

  function startGame() {
    document.getElementById('setup-screen').classList.add('hidden');
    document.getElementById('game').classList.remove('hidden');

    score = 0;
    lives = 3;
    updateUI();
    showSentence();

    document.getElementById('btn-have-got').addEventListener('click', () => {
      submitAnswer("have got");
    });
    document.getElementById('btn-has-got').addEventListener('click', () => {
      submitAnswer("has got");
    });
  }

  function showSentence() {
    const random = allSentences[Math.floor(Math.random() * allSentences.length)];
    sentenceEl.textContent = random.sentence.replace('___', '____');
    sentenceEl.dataset.correct = random.correct;

    clearTimeout(sentenceEl.timeoutId);
    sentenceEl.timeoutId = setTimeout(() => {
      loseLife();
    }, levelSpeed);
  }

  function submitAnswer(choice) {
    clearTimeout(sentenceEl.timeoutId);
    const correct = sentenceEl.dataset.correct;

    if (choice === correct) {
      score++;
      checkLevelUp();
      showSentence();
    } else {
      lives--;
      updateUI();
      showFeedback(correct);
    }
  }

  function loseLife() {
    clearTimeout(sentenceEl.timeoutId);
    lives--;
    updateUI();
    showFeedback(sentenceEl.dataset.correct);
  }

  function checkLevelUp() {
    if (score % 10 === 0 && levelSpeed > levelSpeeds[5]) {
      levelSpeed = levelSpeed * 0.9;
      showLevelUpMessage();
    }
  }

  function showLevelUpMessage() {
    levelUpMessage.style.display = 'block';
    setTimeout(() => {
      levelUpMessage.style.display = 'none';
    }, 2000);
  }

  function updateUI() {
    document.getElementById('score').textContent = `Score: ${score}`;
    document.getElementById('stars').textContent = '‚≠ê '.repeat(lives).trim();
  }

  function showFeedback(correct) {
    document.getElementById('feedback-text').textContent = `Oops! Het juiste antwoord was: "${correct}"`;
    document.getElementById('game').classList.add('hidden');
    document.getElementById('feedback').classList.remove('hidden');
  }

  function continueGame() {
    document.getElementById('feedback').classList.add('hidden');
    if (lives <= 0) {
      gameOver();
    } else {
      document.getElementById('game').classList.remove('hidden');
      showSentence();
    }
  }

  function gameOver() {
    document.getElementById('game').classList.add('hidden');
    document.getElementById('feedback').classList.add('hidden');
    document.getElementById('game-over').classList.remove('hidden');
    document.getElementById('final-score').textContent = `Je eindscore: ${score}`;
  }
</script>

</body>
</html>


