<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>EngliForce Pickle: Flashcard Battle</title>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Lexend:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --hero-blue-main: #0288d1;
            --hero-blue-dark: #01579b;
            --hero-yellow: #ffb703;
            --hero-cyan: #81d4fa;
            --dark-bg: #0b1a2a;
            --hero-orange: #ff5722;
        }
        body {
            font-family: 'Lexend', sans-serif;
            background: radial-gradient(circle at center, #102a43 0%, #05101a 100%);
            color: white;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        header {
            width: 100%;
            background: var(--hero-blue-main);
            padding: 2rem 0;
            text-align: center;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
            border-bottom: 5px solid var(--hero-yellow);
            margin-bottom: 20px;
        }
        h1 { font-family: 'Bangers', cursive; font-size: 3rem; margin: 0; text-shadow: 3px 3px 0px var(--hero-blue-dark); color: white; }
        .container { max-width: 600px; width: 90%; margin: 20px auto; }
        section {
            background: rgba(16, 42, 67, 0.8);
            border-radius: 20px;
            padding: 2rem;
            border: 2px solid var(--hero-cyan);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            text-align: center;
        }
        .hidden { display: none; }
        label { display: block; margin-top: 1rem; font-family: 'Bangers'; color: var(--hero-cyan); font-size: 1.2rem; text-align: left; }
        input[type="text"], select {
            width: 100%;
            padding: 12px;
            margin-top: 5px;
            border-radius: 10px;
            border: 2px solid var(--hero-blue-main);
            background: #0b1a2a;
            color: white;
            box-sizing: border-box;
            font-family: 'Lexend', sans-serif;
        }
        .btn {
            background: var(--hero-orange);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            font-family: 'Bangers';
            font-size: 1.5rem;
            cursor: pointer;
            border-bottom: 5px solid #bf360c;
            transition: 0.2s;
            margin-top: 20px;
            width: 100%;
        }
        .btn:hover { transform: translateY(-3px); filter: brightness(1.1); }
        .btn-green { background: #4caf50; border-bottom-color: #2e7d32; }
        .card-display {
            margin: 2rem 0;
            font-size: 2.2rem;
            font-family: 'Bangers';
            color: var(--hero-yellow);
            background: #102a43;
            padding: 3rem 1rem;
            border-radius: 20px;
            border: 3px solid var(--hero-blue-main);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1000px;
        }
        .flip { animation: flipCard 0.6s ease-in-out; }
        @keyframes flipCard {
            0% { transform: rotateY(0deg); }
            50% { transform: rotateY(90deg); opacity: 0.5; }
            100% { transform: rotateY(0deg); opacity: 1; }
        }
        .scoreboard {
            display: flex;
            justify-content: space-between;
            background: rgba(0,0,0,0.3);
            padding: 10px 20px;
            border-radius: 50px;
            font-family: 'Bangers';
            font-size: 1.4rem;
            color: var(--hero-cyan);
            margin-bottom: 20px;
        }
        .result-msg { font-size: 1.2rem; margin: 15px 0; min-height: 1.5rem; font-weight: bold; }
        footer {
            text-align: center;
            padding: 30px;
            color: rgba(255,255,255,0.5);
            width: 100%;
            margin-top: auto;
        }
    </style>
</head>
<body>
<header>
    <h1>PICKLE 5: FLASHCARD BATTLE</h1>
</header>
<div class="container">
    <section class="controls" id="start-screen">
        <label>agent 1:</label>
        <input type="text" id="player1" placeholder="naam agent 1" />
        <label>agent 2:</label>
        <input type="text" id="player2" placeholder="naam agent 2" />
        <label>missie niveau:</label>
        <select id="language-mode">
            <option value="en-nl">level 1: english - nederlands</option>
            <option value="nl-en">level 2: nederlands - english</option>
            <option value="mixed">level 3: mixed mode</option>
        </select>
        <button class="btn" onclick="startGame()">start battle ‚ñ∂Ô∏è</button>
    </section>

    <section class="hidden" id="game-section">
        <div class="scoreboard" id="scoreboard"></div>
        <div class="card-display" id="card-display">klaar voor de start?</div>
        <div style="text-align: left;">
            <label id="player-turn-label"></label>
            <input type="text" id="answer-input" placeholder="typ je antwoord..." autocomplete="off" />
        </div>
        <button class="btn" onclick="submitAnswer()">bevestig antwoord ‚úÖ</button>
        <button id="override-button" class="btn btn-green hidden" onclick="overrideCorrect()">ik reken het goed ‚úÖ</button>
        <div class="result-msg" id="result"></div>
    </section>
</div>
<footer>    &copy; 2026 EngliForce: Make English Your Superpower!</footer>

<script>
    const flashcards = [
        { en: 'instruction', nl: 'instructie' },
        { en: 'step', nl: 'stap' },
        { en: 'on purpose', nl: 'expres' },
        { en: 'ruin', nl: 'verpesten' },
        { en: 'choke', nl: 'stikken' },
        { en: 'butter knife', nl: 'botermes' },
        { en: 'jar', nl: 'pot' },
        { en: 'lid', nl: 'deksel' },
        { en: 'scoop', nl: 'scheppen' },
        { en: 'spread', nl: 'smeren' },
        { en: 'squeeze', nl: 'knijpen' },
        { en: 'rub', nl: 'wrijven' },
        { en: 'blank', nl: 'leeg' },
        { en: 'joke', nl: 'grap' },
        { en: 'expected', nl: 'verwachtte' }
    ];

    let playerNames = [];
    let scores = [0, 0];
    let currentPlayer = 0;
    let mode = 'en-nl';
    let deck = [];
    let currentCard = null;

    function startGame() {
        const p1 = document.getElementById('player1').value.trim() || "agent 1";
        const p2 = document.getElementById('player2').value.trim() || "agent 2";
        mode = document.getElementById('language-mode').value;

        playerNames = [p1, p2];
        scores = [0, 0];
        currentPlayer = 0;
        deck = [...flashcards].sort(() => Math.random() - 0.5);

        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('game-section').classList.remove('hidden');

        nextTurn();
    }

    function nextTurn() {
        if (deck.length === 0) {
            endGame();
            return;
        }

        currentCard = deck.shift();
        let direction = mode;
        if (mode === 'mixed') {
            direction = Math.random() < 0.5 ? 'en-nl' : 'nl-en';
        }

        const display = direction === 'en-nl' ? currentCard.en : currentCard.nl;
        currentCard.expectedAnswer = direction === 'en-nl' ? currentCard.nl : currentCard.en;

        const cardEl = document.getElementById('card-display');
        cardEl.classList.remove('flip');
        void cardEl.offsetWidth; 
        cardEl.textContent = display;
        cardEl.classList.add('flip');

        document.getElementById('player-turn-label').textContent = `${playerNames[currentPlayer]}, typ je vertaling:`;
        document.getElementById('answer-input').value = '';
        document.getElementById('answer-input').focus();
        document.getElementById('result').textContent = '';
        document.getElementById('override-button').classList.add('hidden');
        updateScoreboard();
    }

    function submitAnswer() {
        const userAnswer = document.getElementById('answer-input').value.trim().toLowerCase();
        const correctAnswer = currentCard.expectedAnswer.toLowerCase();
        const resultEl = document.getElementById('result');
        const overrideBtn = document.getElementById('override-button');

        if (userAnswer === correctAnswer) {
            scores[currentPlayer]++;
            resultEl.style.color = "#4caf50";
            resultEl.textContent = '‚úÖ uitstekend!';
            overrideBtn.classList.add('hidden');
            setTimeout(() => {
                currentPlayer = (currentPlayer + 1) % 2;
                nextTurn();
            }, 1000);
        } else {
            // Bij fout antwoord gaat kaart terug onderop het deck
            deck.push(currentCard);
            resultEl.style.color = "#ff5722";
            resultEl.textContent = `‚ùå foutje! het juiste antwoord was: ${currentCard.expectedAnswer}`;
            overrideBtn.classList.remove('hidden');
        }
        updateScoreboard();
    }

    function overrideCorrect() {
        scores[currentPlayer]++;
        document.getElementById('override-button').classList.add('hidden');
        document.getElementById('result').style.color = "#4caf50";
        document.getElementById('result').textContent = '‚úÖ handmatig goedgekeurd!';
        updateScoreboard();
        setTimeout(() => {
            currentPlayer = (currentPlayer + 1) % 2;
            nextTurn();
        }, 1000);
    }

    function updateScoreboard() {
        const sb = document.getElementById('scoreboard');
        sb.textContent = `${playerNames[0]}: ${scores[0]} | ${playerNames[1]}: ${scores[1]}`;
    }

    function endGame() {
        const winner =
            scores[0] === scores[1]
                ? "ü§ù gelijkspel! goed gedaan agenten."
                : `üèÜ ${scores[0] > scores[1] ? playerNames[0] : playerNames[1]} wint de battle!`;
        
        document.getElementById('card-display').textContent = "missie volbracht!";
        document.getElementById('player-turn-label').textContent = '';
        document.getElementById('answer-input').style.display = 'none';
        document.getElementById('result').style.color = "white";
        document.getElementById('result').textContent = winner;
        document.getElementById('override-button').classList.add('hidden');
    }

    document.getElementById("answer-input").addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            submitAnswer();
        }
    });
</script>
</body>
</html>