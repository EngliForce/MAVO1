<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz - Vocabulary 1.1</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fff8f0;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #ff7043;
      color: white;
      padding: 2rem 1rem 1rem;
      text-align: center;
    }
    header img {
      display: block;
      margin: 0 auto 1rem;
      width: 100px;
    }
    header h1 {
      margin: 0;
      font-size: 1.8rem;
    }
    main {
      padding: 2rem;
      text-align: center;
    }
    section {
      background-color: white;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    h2 {
      color: #ff7043;
    }
    .timer {
      color: red;
      font-weight: bold;
    }
    .question {
      font-size: 1.3rem;
      margin: 1rem 0;
    }
    .answers button {
      padding: 0.8rem 1rem;
      margin: 0.3rem;
      background-color: #ff7043;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s;
    }
    .answers button:hover {
      background-color: #e65c30;
    }
    .hidden {
      display: none;
    }
    input[type=text], select {
      padding: 0.5rem;
      margin: 0.5rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }
    .start-btn {
      background: #ff7043;
      color: white;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      cursor: pointer;
      margin-top: 1rem;
    }
    .results-list {
      text-align: left;
      max-width: 600px;
      margin: 1rem auto;
      font-size: 0.95rem;
    }
    .results-list li {
      margin-bottom: 0.5rem;
    }
    footer {
      background-color: #ffe6dc;
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <header>
    <img src="Logo.png" alt="EngliForce Logo">
    <h1>üèÜ Quiz - Vocabulary 1.1</h1>
    <p>Speel alleen of met z‚Äôn twee√´n en kies je spelmodus!</p>
  </header>

  <main>
    <section id="start-screen">
      <h2>üéÆ Instellingen</h2>
      <input type="text" id="player1" placeholder="Speler 1 naam (optioneel)">
      <input type="text" id="player2" placeholder="Speler 2 naam (optioneel)">
      <p>
        <label for="mode">Taalmodus:</label>
        <select id="mode">
          <option value="en-nl">Engels ‚Üí Nederlands</option>
          <option value="nl-en">Nederlands ‚Üí Engels</option>
          <option value="mixed">Gemengd</option>
        </select>
      </p>
      <p>
        <label for="questionType">Vraagtype:</label>
        <select id="questionType">
          <option value="mc">Meerkeuze</option>
          <option value="open">Open vraag</option>
        </select>
      </p>
      <button class="start-btn" onclick="startGame()">üöÄ Start Quiz</button>
    </section>

    <section id="quiz-section" class="hidden">
      <h2 id="current-players"></h2>
      <div class="quiz-info">
        ‚è≥ Tijd: <span class="timer" id="timer">60</span> sec
      </div>
      <div class="question" id="question"></div>
      <div class="answers" id="answers"></div>
      <div id="open-answer-section" class="hidden">
        <input type="text" id="openAnswer" placeholder="Typ je antwoord...">
        <button onclick="submitOpenAnswer()">Bevestig</button>
      </div>
    </section>

    <section id="game-over" class="hidden">
      <h2>‚è∞ Tijd is op!</h2>
      <p><span id="winner-text"></span></p>
      <p>Eindscore: <span class="score" id="final-score"></span></p>
      <h3>Foute antwoorden:</h3>
      <ul class="results-list" id="wrong-answers-list"></ul>
      <button onclick="restartGame()">üîÑ Opnieuw spelen</button>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 EngliForce ‚Äì Make English Your Superpower!</p>
  </footer>

<script>
  const words = [
    { en: ["address"], nl: ["adres"] },
    { en: ["age"], nl: ["leeftijd"] },
    { en: ["birthday"], nl: ["verjaardag"] },
    { en: ["city"], nl: ["stad"] },
    { en: ["country"], nl: ["land"] },
    { en: ["email address"], nl: ["e‚Äëmailadres"] },
    { en: ["first name"], nl: ["voornaam"] },
    { en: ["nationality"], nl: ["nationaliteit"] },
    { en: ["phone number"], nl: ["telefoonnummer"] },
    { en: ["postcode"], nl: ["postcode"] },
    { en: ["surname", "family name"], nl: ["achternaam"] },
    { en: ["athletic"], nl: ["sportief gebouwd"] },
    { en: ["braces"], nl: ["beugel", "beugel (voor tanden)"] },
    { en: ["build"], nl: ["postuur", "lichaamsbouw", "postuur / lichaamsbouw"] },
    { en: ["contact lenses"], nl: ["contactlenzen"] },
    { en: ["freckles"], nl: ["sproeten"] },
    { en: ["glasses"], nl: ["bril"] },
    { en: ["height"], nl: ["lengte"] },
    { en: ["slim"], nl: ["slank"] },
    { en: ["looks"], nl: ["uiterlijk"] },
    { en: ["handsome"], nl: ["knap (man/jongen)", "knap"] },
    { en: ["ordinary"], nl: ["gewoon", "niet bijzonder", "gewoon, niet bijzonder"] },
    { en: ["pretty"], nl: ["mooi", "mooi (meisje/vrouw)"] }
  ];

  let settings = {
    mode: "en-nl",
    questionType: "mc",
    players: [],
  };

  let questions = [];
  let current = 0;
  let correctCount = 0;
  let wrongAnswers = [];
  let timeLeft = 60;
  let timer;

  function startGame() {
    const p1 = document.getElementById("player1").value.trim();
    const p2 = document.getElementById("player2").value.trim();
    settings.players = [];
    if (p1) settings.players.push(p1);
    if (p2) settings.players.push(p2);

    settings.mode = document.getElementById("mode").value;
    settings.questionType = document.getElementById("questionType").value;

    document.getElementById("start-screen").classList.add("hidden");
    document.getElementById("quiz-section").classList.remove("hidden");

    document.getElementById("current-players").textContent = settings.players.length > 0
      ? "Spelers: " + settings.players.join(" & ")
      : "Solo modus";

    correctCount = 0;
    wrongAnswers = [];

    generateQuestions();
    showQuestion();
    startTimer();
  }

  function generateQuestions() {
    questions = words.map(w => {
      let q, correct;
      if (settings.mode === "en-nl") {
        q = `Wat betekent "${w.en[0]}"?`;
        correct = w.nl;
      } else if (settings.mode === "nl-en") {
        q = `Wat is "${w.nl[0]}" in het Engels?`;
        correct = w.en;
      } else {
        if (Math.random() > 0.5) {
          q = `Wat betekent "${w.en[0]}"?`;
          correct = w.nl;
        } else {
          q = `Wat is "${w.nl[0]}" in het Engels?`;
          correct = w.en;
        }
      }

      const getWrongAnswers = (list, correctArray) => {
        let options = [];
        while (options.length < 2) {
          const candidate = list[Math.floor(Math.random() * list.length)];
          if (!correctArray.includes(candidate[0]) && !options.includes(candidate[0])) {
            options.push(candidate[0]);
          }
        }
        return options;
      };

      const wrong = settings.mode === "nl-en" ? getWrongAnswers(words.map(w => w.en), correct) : getWrongAnswers(words.map(w => w.nl), correct);
      let allOptions = [...correct.map(c => c), ...wrong].sort(() => Math.random() - 0.5);

      return { q, correct, options: allOptions };
    }).sort(() => Math.random() - 0.5);
  }

  function startTimer() {
    timeLeft = 60;
    document.getElementById("timer").textContent = timeLeft;
    timer = setInterval(() => {
      timeLeft--;
      document.getElementById("timer").textContent = timeLeft;
      if (timeLeft <= 0) endGame();
    }, 1000);
  }

  function showQuestion() {
    if (current >= questions.length) current = 0;
    const q = questions[current];
    document.getElementById("question").textContent = q.q;

    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    if (settings.questionType === "mc") {
      document.getElementById("open-answer-section").classList.add("hidden");
      q.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(opt);
        answersDiv.appendChild(btn);
      });
    } else {
      answersDiv.innerHTML = "";
      document.getElementById("open-answer-section").classList.remove("hidden");
      document.getElementById("openAnswer").value = "";
    }
  }

  function submitOpenAnswer() {
    const answer = document.getElementById("openAnswer").value.trim();
    checkAnswer(answer);
  }

  function checkAnswer(choice) {
    const qObj = questions[current];
    const isCorrect = qObj.correct.some(ans => ans.toLowerCase() === choice.toLowerCase());

    if (isCorrect) {
      correctCount++;
    } else {
      wrongAnswers.push({
        question: qObj.q,
        given: choice || "(geen antwoord)",
        correct: qObj.correct.join(" / ")
      });
    }

    current++;
    showQuestion();
  }

  function endGame() {
    clearInterval(timer);
    document.getElementById("quiz-section").classList.add("hidden");
    document.getElementById("game-over").classList.remove("hidden");

    const score = Math.round((correctCount / questions.length) * 100);
    document.getElementById("final-score").textContent = `${correctCount} goed (${score}%)`;

    document.getElementById("winner-text").textContent =
      settings.players.length === 2
        ? `${settings.players.join(" & ")}, jullie resultaat:`
        : settings.players.length === 1
        ? `${settings.players[0]}, jouw resultaat:`
        : "Solo modus afgerond!";

    const list = document.getElementById("wrong-answers-list");
    list.innerHTML = "";
    if (wrongAnswers.length === 0) {
      list.innerHTML = "<li>Geen fouten, goed gedaan! üéâ</li>";
    } else {
      wrongAnswers.forEach(item => {
        const li = document.createElement("li");
        li.innerHTML = `<strong>${item.question}</strong><br>Jouw antwoord: <em>${item.given}</em><br>Goed antwoord: ‚úÖ ${item.correct}`;
        list.appendChild(li);
      });
    }
  }

  function restartGame() {
    settings.players = [];
    current = 0;
    correctCount = 0;
    wrongAnswers = [];
    timeLeft = 60;
    document.getElementById("quiz-section").classList.add("hidden");
    document.getElementById("game-over").classList.add("hidden");
    document.getElementById("start-screen").classList.remove("hidden");
  }
</script>
</body>
</html>
